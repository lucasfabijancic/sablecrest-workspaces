import type { Request, Workspace, ActivityEvent, Profile, Membership } from '@/types/database';

export const mockWorkspace: Workspace = {
  id: 'mock-workspace-1',
  name: 'Demo Workspace',
  created_at: new Date().toISOString(),
};

export const mockProfile: Profile = {
  id: 'mock-user-1',
  email: 'demo@sablecrest.io',
  full_name: 'Demo User',
  avatar_url: null,
  created_at: new Date().toISOString(),
  updated_at: new Date().toISOString(),
};

export const mockMembership: Membership = {
  id: 'mock-membership-1',
  workspace_id: 'mock-workspace-1',
  user_id: 'mock-user-1',
  role: 'admin',
  created_at: new Date().toISOString(),
};

export const mockRequests: Request[] = [
  {
    id: 'mock-req-1',
    workspace_id: 'mock-workspace-1',
    title: 'AI-powered document processing pipeline',
    desired_outcome: 'Automated extraction and classification of documents',
    context: 'Processing 10K+ documents monthly with high accuracy requirements',
    timeline_urgency: 'Within 2 weeks',
    sensitivity: 'Confidential',
    budget_band: '$50K-$150K',
    status: 'Submitted',
    owner_user_id: 'mock-user-1',
    created_at: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'mock-req-2',
    workspace_id: 'mock-workspace-1',
    title: 'Customer service chatbot implementation',
    desired_outcome: 'Reduce support ticket volume by 30%',
    context: 'Current support team overwhelmed, need 24/7 coverage',
    timeline_urgency: 'Within 1 month',
    sensitivity: 'Standard',
    budget_band: '$10K-$50K',
    status: 'Scoping',
    owner_user_id: 'mock-user-1',
    created_at: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'mock-req-3',
    workspace_id: 'mock-workspace-1',
    title: 'Data warehouse modernization',
    desired_outcome: 'Migrate to cloud-native analytics platform',
    context: 'Legacy on-prem system with performance issues',
    timeline_urgency: 'Within 3 months',
    sensitivity: 'Highly Confidential',
    budget_band: '$150K-$500K',
    status: 'Shortlisting',
    owner_user_id: 'mock-user-1',
    created_at: new Date(Date.now() - 14 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 12 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'mock-req-4',
    workspace_id: 'mock-workspace-1',
    title: 'Security audit and compliance review',
    desired_outcome: 'SOC 2 Type II certification readiness',
    context: 'Preparing for enterprise sales, need compliance',
    timeline_urgency: 'Immediate',
    sensitivity: 'Highly Confidential',
    budget_band: '$50K-$150K',
    status: 'In Execution',
    owner_user_id: 'mock-user-1',
    created_at: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
  },
];

export const mockActivities: (ActivityEvent & { actor?: Profile })[] = [
  {
    id: 'act-1',
    workspace_id: 'mock-workspace-1',
    request_id: 'mock-req-1',
    actor_user_id: 'mock-user-1',
    event_type: 'request_submitted',
    event_payload: {},
    created_at: new Date(Date.now() - 1 * 60 * 60 * 1000).toISOString(),
    actor: mockProfile,
  },
  {
    id: 'act-2',
    workspace_id: 'mock-workspace-1',
    request_id: 'mock-req-2',
    actor_user_id: 'mock-user-1',
    event_type: 'status_changed',
    event_payload: { from: 'Submitted', to: 'Scoping' },
    created_at: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(),
    actor: mockProfile,
  },
  {
    id: 'act-3',
    workspace_id: 'mock-workspace-1',
    request_id: 'mock-req-3',
    actor_user_id: 'mock-user-1',
    event_type: 'shortlist_added',
    event_payload: { provider: 'Apex Digital' },
    created_at: new Date(Date.now() - 12 * 60 * 60 * 1000).toISOString(),
    actor: mockProfile,
  },
  {
    id: 'act-4',
    workspace_id: 'mock-workspace-1',
    request_id: 'mock-req-4',
    actor_user_id: 'mock-user-1',
    event_type: 'file_uploaded',
    event_payload: { filename: 'security-requirements.pdf' },
    created_at: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),
    actor: mockProfile,
  },
  {
    id: 'act-5',
    workspace_id: 'mock-workspace-1',
    request_id: 'mock-req-2',
    actor_user_id: 'mock-user-1',
    event_type: 'message_sent',
    event_payload: {},
    created_at: new Date(Date.now() - 36 * 60 * 60 * 1000).toISOString(),
    actor: mockProfile,
  },
  {
    id: 'act-6',
    workspace_id: 'mock-workspace-1',
    request_id: 'mock-req-1',
    actor_user_id: null,
    event_type: 'request_updated',
    event_payload: {},
    created_at: new Date(Date.now() - 48 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'act-7',
    workspace_id: 'mock-workspace-1',
    request_id: 'mock-req-3',
    actor_user_id: 'mock-user-1',
    event_type: 'shortlist_added',
    event_payload: { provider: 'DataForge Analytics' },
    created_at: new Date(Date.now() - 72 * 60 * 60 * 1000).toISOString(),
    actor: mockProfile,
  },
  {
    id: 'act-8',
    workspace_id: 'mock-workspace-1',
    request_id: null,
    actor_user_id: 'mock-user-1',
    event_type: 'workspace_created',
    event_payload: {},
    created_at: new Date(Date.now() - 96 * 60 * 60 * 1000).toISOString(),
    actor: mockProfile,
  },
];

// Calculate status counts from mock data
export const mockStatusCounts = {
  submitted: mockRequests.filter(r => r.status === 'Submitted').length,
  scoping: mockRequests.filter(r => r.status === 'Scoping').length,
  shortlisting: mockRequests.filter(r => r.status === 'Shortlisting').length,
  inExecution: mockRequests.filter(r => r.status === 'In Execution').length,
};
